#!/usr/bin/env node

var exit = require('exit');
var cli = require('../lib/cli.js');
var packageInfo = require('../package.json');


//
// check for newer version of basisjs-tools
//

require('update-notifier')({
  packageName: packageInfo.name,
  packageVersion: packageInfo.version
}).notify({ defer: false });


//
// parse arguments and run command
//

try {
  cli.run();
} catch(e) {
  if (cli.isCliError(e))
    console.error(e.message || e);
  else
    throw e;

  exit(2);
}
